<form [formGroup]="form">


    <h2>
        <div style="vertical-align: middle;"><img src="assets/date.png" style="width:50px;height:50px;">&nbsp;Date</div>
    </h2>

    <div class="row">
        <div class="col-md-4">
            <mat-form-field appearance="fill">
                <mat-label>Event date</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="date">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Start Time</mat-label>
                <input matInput placeholder="please choose a end time" [ngxTimepicker]="tepicker" [disableClick]="true"
                    formControlName="start" readonly>
                <mat-hint>HH:MM AM/PM</mat-hint>
                <ngx-material-timepicker-toggle matSuffix [for]="tepicker"></ngx-material-timepicker-toggle>
                <ngx-material-timepicker [minutesGap]="10" #tepicker>
                </ngx-material-timepicker>
            </mat-form-field>

        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>End Time</mat-label>
                <input matInput placeholder="please choose a end time" [ngxTimepicker]="tpicker" [disableClick]="true"
                    formControlName="end" readonly>
                <mat-hint>HH:MM AM/PM</mat-hint>
                <ngx-material-timepicker-toggle matSuffix [for]="tpicker"></ngx-material-timepicker-toggle>
                <ngx-material-timepicker [minutesGap]="10" #tpicker>
                </ngx-material-timepicker>
            </mat-form-field>

        </div>
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Referred by</mat-label>
                <input matInput type="text" formControlName="referred_by" placeholder="" autocomplete="off">
            </mat-form-field>
        </div>

    </div>
    <p></p>

    <h2>
        <div style="vertical-align: middle;"><img src="assets/bride.png" style="width:50px;height:50px;">Bride</div>
    </h2>
    <div class="row">



        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride first name</mat-label>
                <input matInput type="text" formControlName="bride_first_name" placeholder="Jane" autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride last name</mat-label>
                <input matInput type="text" formControlName="bride_last_name" placeholder="Doe" autocomplete="off">
            </mat-form-field>
        </div>


        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride phone</mat-label>
                <input matInput type="phone" name="bride_phone" formControlName="bride_phone" placeholder="Jane Doe"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-1">
            <mat-label>Can text?</mat-label>
            &nbsp;<mat-checkbox formControlName="bride_phone_text"></mat-checkbox>
        </div>

        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Bride email</mat-label>
                <input matInput type="email" formControlName="bride_email" placeholder="Jane.Doe@gmail.com"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride social</mat-label>
                <input matInput type="text" formControlName="bride_social" placeholder="#social" autocomplete="off">
            </mat-form-field>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride mothers first name</mat-label>
                <input matInput type="text" formControlName="bride_mom_first_name" placeholder="Jane Does Mom"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride mothers last name</mat-label>
                <input matInput type="text" formControlName="bride_mom_last_name" placeholder="Jane Does Mom"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride mothers phone</mat-label>
                <input matInput type="phone" name="bride_mom_phone" formControlName="bride_mom_phone"
                    placeholder="Jane Doe" autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-1"></div>

        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Bride mothers email</mat-label>
                <input matInput type="email" formControlName="bride_mom_email" placeholder="janedoemom@gmail.com"
                    autocomplete="off">
            </mat-form-field>
        </div>



    </div>

    <div class="row">
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride fathers first name</mat-label>
                <input matInput type="text" formControlName="bride_dad_first_name" placeholder="Jane Does Dad"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride fathers last name</mat-label>
                <input matInput type="text" formControlName="bride_dad_last_name" placeholder="Jane Does Dad"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Bride fathers phone</mat-label>
                <input matInput type="phone" name="bride_dad_phone" formControlName="bride_dad_phone"
                    placeholder="Jane Doe" autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-1"></div>

        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Bride fathers email</mat-label>
                <input matInput type="email" formControlName="bride_dad_email" placeholder="janedoedad@gmail.com"
                    autocomplete="off">
            </mat-form-field>
        </div>

    </div>

    <h2>
        <div style="vertical-align: middle;"><img src="assets/groom.png" style="width:50px;height:50px;">Groom</div>
    </h2>
    <div class="row">
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom first name</mat-label>
                <input matInput type="text" formControlName="groom_first_name" placeholder="John Doe"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom last name</mat-label>
                <input matInput type="text" formControlName="groom_last_name" placeholder="John Doe" autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom phone</mat-label>
                <input matInput type="phone" name="groom_phone" formControlName="groom_phone" placeholder="Jane Doe"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-1">
            <mat-label>Can text?</mat-label>
            &nbsp;<mat-checkbox formControlName="groom_phone_text"></mat-checkbox>
        </div>

        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Groom email</mat-label>
                <input matInput type="email" formControlName="groom_email" placeholder="John.Doe@gmail.com"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom social</mat-label>
                <input matInput type="text" formControlName="groom_social" placeholder="#social" autocomplete="off">
            </mat-form-field>
        </div>

    </div>

    <div class="row">
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom mothers first name</mat-label>
                <input matInput type="text" formControlName="groom_mom_first_name" placeholder="John Does Mom"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom mothers last name</mat-label>
                <input matInput type="text" formControlName="groom_mom_last_name" placeholder="John Does Mom"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom mothers phone</mat-label>
                <input matInput type="phone" name="groom_mom_phone" formControlName="groom_mom_phone"
                    placeholder="Jane Doe" autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-1"></div>

        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Groom mothers email</mat-label>
                <input matInput type="email" formControlName="groom_mom_email" placeholder="johndoemom@gmail.com"
                    autocomplete="off">
            </mat-form-field>
        </div>



    </div>

    <div class="row">
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom fathers first name</mat-label>
                <input matInput type="text" formControlName="groom_dad_first_name" placeholder="John Does Dad"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom fathers last name</mat-label>
                <input matInput type="text" formControlName="groom_dad_last_name" placeholder="John Does Dad"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Groom fathers phone</mat-label>
                <input matInput type="phone" name="groom_dad_phone" formControlName="groom_dad_phone"
                    placeholder="Jane Doe" autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-1"></div>

        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Groom fathers email</mat-label>
                <input matInput type="email" formControlName="groom_dad_email" placeholder="johndoedad@gmail.com"
                    autocomplete="off">
            </mat-form-field>
        </div>

    </div>

    <h2>Planner <button mat-icon-button matSuffix (click)="onSearch()"><mat-icon>search</mat-icon></button></h2>


    <div class="row">
        <div class="col-md-5">
            <div *ngIf="search">
                <mat-form-field appearance="fill">
                    <input matInput placeholder="Search by first or last name" [matAutocomplete]="planner"
                        [formControl]="planner_search" />
                    <mat-autocomplete id="plannerFirstName" #planner="matAutocomplete"
                        (optionSelected)="onPlannerSelected($event.option.value )">

                        <div *ngIf="filteredPlanners | async as plannersList else waitingResponse">
                            <mat-option *ngFor="let person of plannersList" [value]="person">
                                <span>{{person.first_name}} {{person.last_name}}</span><br>
                            </mat-option>

                        </div>
                        <ng-template #waitingResponse>
                            <span
                                style="display: flex; flex-direction: row; flex-wrap: nowrap; align-items: center; align-content: center; align-self: center">
                                <mat-spinner *ngIf="loading_planners" [diameter]="20"></mat-spinner>
                                <mat-icon *ngIf="loading_planners_error">error</mat-icon>
                                <mat-option disabled="true">{{loading_planners_error ? "Error loading planners" :
                                    "Please Wait..."}}</mat-option>
                            </span>
                        </ng-template>


                    </mat-autocomplete>
                </mat-form-field>
            </div>
        </div>



    </div>


    <div class="row">

        <div class="col-md-3">

            <mat-form-field appearance="fill" autocomplete="off">
                
                <mat-label>Planner first name</mat-label>
                <input matInput type="text" formControlName="planner_first_name" placeholder="planner"
                    autocomplete="off">
            </mat-form-field>

        </div>

        <div class="col-md-3">
            <mat-form-field appearance="fill" autocomplete="off">
                <mat-label>Planner last name</mat-label>
                <input matInput type="text" formControlName="planner_last_name" placeholder="planner"
                    autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-3">
            <mat-form-field appearance="fill" autocomplete="off">
                <mat-label>Planner phone</mat-label>
                <input matInput type="phone" name="planner_phone" formControlName="planner_phone" placeholder="Jane Doe"
                    autocomplete="off">
            </mat-form-field>
        </div>


        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Planner email</mat-label>
                <input matInput type="email" formControlName="planner_email" placeholder="planner@gmail.com"
                    autocomplete="off">
            </mat-form-field>
        </div>

    </div>
   

    <h2>Other</h2>
    <div class="row">
        <div class="col-md-6">
            <mat-form-field appearance="fill">
                <mat-label>Other contact information</mat-label>
                <textarea matInput type="textarea" formControlName="other_contact" placeholder="other important people"
                    autocomplete="off"></textarea>
            </mat-form-field>
        </div>
    </div>

    <h2>Venue</h2>
    <div class="row">
        <div class="col-md-6">
            <app-venue-select></app-venue-select>
        </div>
        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Venue Name From JotForm</mat-label>
                <input matInput type="text" formControlName="jotform_venue_name" placeholder="" autocomplete="off">
            </mat-form-field>
        </div>
        <div class="col-md-3">
            <mat-form-field appearance="fill">
                <mat-label>Venue Phone From JotForm</mat-label>
                <input matInput type="text" formControlName="jotform_venue_phone" placeholder="" autocomplete="off">
            </mat-form-field>
        </div>

    </div>

    <div class="row">
        <div class="col-md-6">
        </div>
        <div class="col-md-6">
            <mat-form-field appearance="fill">
                <mat-label>Venue Info From JotForm</mat-label>
                <textarea matInput type="textarea" rows="6" formControlName="jotform_venue" placeholder=""
                    autocomplete="off"></textarea>
            </mat-form-field>
        </div>

    </div>

    <div class="row">

        <div class="col-md-6">
            <mat-form-field appearance="fill">
                <mat-label>Other location information</mat-label>
                <textarea matInput type="textarea" formControlName="other_location" placeholder=""
                    autocomplete="off"></textarea>
            </mat-form-field>
        </div>

    </div>

    <div class="row">
        <div class="col-md-6">
            <mat-form-field appearance="fill">
                <mat-label>Videographers</mat-label>
                <mat-select formControlName="videographers" multiple>
                    <mat-select-trigger>
                        {{form.value.videographers | formatNames}}
                    </mat-select-trigger>
                    <mat-option *ngFor="let person of videographers" [value]="person">{{person.first_name}}
                        {{person.last_name}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="col-md-6">
            <mat-form-field appearance="fill">
                <mat-label>Assistants</mat-label>
                <mat-select formControlName="assistants" multiple>
                    <mat-select-trigger>
                        {{form.value.assistants | formatNames}}
                    </mat-select-trigger>
                    <mat-option *ngFor="let person of assistants" [value]="person">{{person.first_name}}
                        {{person.last_name}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>

    <h2>Contract Details</h2>
    <div class="row">
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Effective date</mat-label>
                <input matInput [matDatepicker]="pickered" formControlName="effective_date">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="pickered"></mat-datepicker-toggle>
                <mat-datepicker #pickered></mat-datepicker>
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Quote</mat-label>
                <input matInput type="text" formControlName="quote" autocomplete="off">
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Deposit</mat-label>
                <input matInput type="text" formControlName="deposit" autocomplete="off">
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label>Hours</mat-label>
                <input matInput type="text" formControlName="hours" autocomplete="off">
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field appearance="fill">
                <mat-label># Staff</mat-label>
                <input matInput type="text" formControlName="count" autocomplete="off">
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-checkbox matInput type="text" formControlName="include_photographer" autocomplete="off">Include
                Photographers in Proposal</mat-checkbox>
        </div>
    </div>

    <h2>Services</h2>
    <div class="row">


        <div class="col-md-1">

            <mat-checkbox matInput type="text" formControlName="teaser" autocomplete="off">Teaser</mat-checkbox>

        </div>
        <div class="col-md-1">


            <mat-checkbox matInput type="text" formControlName="highlights" autocomplete="off">Highlight
            </mat-checkbox>

        </div>
        <div class="col-md-1">


            <mat-checkbox matInput type="text" formControlName="full" autocomplete="off">Full Edit
            </mat-checkbox>

        </div>
    </div>





</form>